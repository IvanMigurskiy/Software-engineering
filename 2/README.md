# Budget Tracker API

![Python](https://img.shields.io/badge/Python-3.9-blue)
![FastAPI](https://img.shields.io/badge/FastAPI-0.95.0-green)
![Docker](https://img.shields.io/badge/Docker-supported-blue)

RESTful API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—é–¥–∂–µ—Ç–æ–º —Å JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ FastAPI.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–æ–º (—Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Docker

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Python 3.9** - –æ—Å–Ω–æ–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **FastAPI** - –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **JWT** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **OpenAPI 3.0** - —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è API

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- [Docker](https://www.docker.com/get-started)
- [Docker Compose](https://docs.docker.com/compose/install/)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
docker-compose up --build

3. –°–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:
- **Auth Service**: `http://localhost:8000`
- **Budget Service**: `http://localhost:8001`

## üì° –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üîê Auth Service (`http://localhost:8000`)

#### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
GET /auth/users/me
Authorization: Bearer <–≤–∞—à_—Ç–æ–∫–µ–Ω>

### üìù Budget Service (`http://localhost:8001`)
#### –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Ö–æ–¥–∞
POST /incomes/
Authorization: Bearer <–≤–∞—à_—Ç–æ–∫–µ–Ω>
Content-Type: application/json

{
  "title": "–ü—Ä–µ–º–∏—è",
  "description": "–†–∞–±–æ—Ç–Ω–∏–∫ –º–µ—Å—è—Ü–∞",
  "value": "20000",
  "periodicity": "once",
  "due_date": "2024-06-25"
}

**–ü–æ–ª—è:**
| –ü–æ–ª–µ          | –¢–∏–ø     | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –ó–Ω–∞—á–µ–Ω–∏—è                   |
|---------------|---------|--------------|----------------------------|
| title         | string  | ‚úì            | max 100 —Å–∏–º–≤–æ–ª–æ–≤          |
| description   | string  | ‚úì            | -                         |
| value         | integer | ‚úì            | —Å—É–º–º–∞ –¥–æ—Ö–æ–¥–∞               |
| due_date      | date    |              | YYYY-MM-DD                |
| periodicity   | string  |              | "once", "daily", "weekly", "monthly"   |
| periodicity_value | integer  |       | –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –∏–ª–∏ –º–µ—Å—è—Ü–∞ |
| assignee_id   | integer |              | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è           |

#### –°–ø–∏—Å–æ–∫ –¥–æ—Ö–æ–¥–æ–≤
GET /incomes/
Authorization: Bearer <–≤–∞—à_—Ç–æ–∫–µ–Ω>

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞
POST /costs/
Authorization: Bearer <–≤–∞—à_—Ç–æ–∫–µ–Ω>
Content-Type: application/json

{
  "title": "–ü–æ–¥–∞—Ä–æ–∫",
  "description": "–ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏–µ –¥—Ä—É–≥—É",
  "value": "10000",
  "periodicity": "once",
  "due_date": "2024-06-05"
}

**–ü–æ–ª—è:**
| –ü–æ–ª–µ          | –¢–∏–ø     | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –ó–Ω–∞—á–µ–Ω–∏—è                   |
|---------------|---------|--------------|----------------------------|
| title         | string  | ‚úì            | max 100 —Å–∏–º–≤–æ–ª–æ–≤          |
| description   | string  | ‚úì            | -                         |
| value         | integer | ‚úì            | —Å—É–º–º–∞ —Ä–∞—Å—Ö–æ–¥–∞               |
| due_date      | date    |              | YYYY-MM-DD                |
| periodicity   | string  |              | "once", "daily", "weekly", "monthly"   |
| periodicity_value | integer  |       | –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –∏–ª–∏ –º–µ—Å—è—Ü–∞ |
| assignee_id   | integer |              | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è           |

#### –°–ø–∏—Å–æ–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤
GET /costs/
Authorization: Bearer <–≤–∞—à_—Ç–æ–∫–µ–Ω>

## üîë –î–∞–Ω–Ω—ã–µ –º–∞—Å—Ç–µ—Ä-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–õ–æ–≥–∏–Ω**: `admin`
- **–ü–∞—Ä–æ–ª—å**: `secret`

–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è OpenAPI: `openapi.yml`


## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å Bearer —Ç–æ–∫–µ–Ω–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ—Ç–æ–¥–æ–≤ GET/POST/PUT
- –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Pydantic
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏
- –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–î–≤–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞:
1. **Auth Service**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ç–æ–∫–µ–Ω–∞–º–∏
2. **Budget Service**: CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±—é–¥–∂–µ—Ç–æ–º

–°—Ö–µ–º–∞: `workspace.dsl` (Structurizr DSL)

## üìú –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤
| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ              |
|-----|-----------------------|
| 200 | –£—Å–ø–µ—à–Ω–æ               |
| 201 | –°–æ–∑–¥–∞–Ω–æ               |
| 400 | –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å       |
| 401 | –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω        |
| 403 | –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω       |
| 404 | –ù–µ –Ω–∞–π–¥–µ–Ω–æ            |
| 422 | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏      |
